server:
  port: "${PORT:-3000}"
  host: "0.0.0.0"
  # External base URL (for OAuth callbacks, set when behind a proxy)
  base_url: "${SERVER_BASE_URL:-http://localhost:3000}"

oauth:
  provider: "${OAUTH_PROVIDER:-keycloak}"
  client_id: "${OAUTH_CLIENT_ID}"
  client_secret: "${OAUTH_CLIENT_SECRET}"
  # OAuth callback URL - must match Google Cloud Console redirect URI
  redirect_url: "${OAUTH_REDIRECT_URL:-http://localhost:3000/auth/callback}"
  # Access control (empty = allow all)
  # allowed_domains: ["example.com", "company.org"]  # Allow all users from these domains
  # allowed_emails: ["user@example.com"]             # Allow specific emails
  keycloak:
    realm: "web-clipper"
    base_url: "${KEYCLOAK_BASE_URL:-https://auth.example.com}"

storage:
  base_path: "${CLIP_DIRECTORY:-./clips}"
  create_missing: true

images:
  max_size_bytes: 5242880      # 5MB per image
  max_dimension_px: 2048       # Max width/height
  max_total_bytes: 26214400    # 25MB total per clip
  preserve_original: false

jwt:
  secret: "${JWT_SECRET:-dev-secret-change-in-production}"
  expiry_hours: 24

dev_mode:
  enabled: ${DEV_MODE:-false}
  user_id: "dev-user-001"
  email: "dev@localhost"
  name: "Dev User"

admin:
  # Allowed storage paths that users can be assigned to
  # Empty list means any path under storage.base_path is allowed
  allowed_paths: []
